\doxysection{esp2\+\_\+keypad/\+esp2\+\_\+keypad.ino File Reference}
\hypertarget{esp2__keypad_8ino}{}\label{esp2__keypad_8ino}\index{esp2\_keypad/esp2\_keypad.ino@{esp2\_keypad/esp2\_keypad.ino}}


Keypad-\/based PIN entry controller with MQTT backend integration.  


{\ttfamily \+\#include $<$Arduino.\+h$>$}\newline
{\ttfamily \+\#include $<$Keypad.\+h$>$}\newline
{\ttfamily \+\#include $<$Arduino\+Json.\+h$>$}\newline
{\ttfamily \+\#include $<$Wi\+Fi\+Mqtt\+Client.\+h$>$}\newline
Include dependency graph for esp2\+\_\+keypad.\+ino:\+\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{esp2__keypad_8ino__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \doxymbox{\hyperlink{group__esp2_gac3a129f66dc859e2b7279565f4e1de78}{callback}} (char \texorpdfstring{$\ast$}{*}topic, byte \texorpdfstring{$\ast$}{*}payload, unsigned int length)
\begin{DoxyCompactList}\small\item\em MQTT message callback handler. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{group__esp2_ga4fc01d736fe50cf5b977f755b675f11d}{setup}} ()
\begin{DoxyCompactList}\small\item\em Arduino setup function. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{group__esp2_ga8d5423be1c5a1f45105978994e468f0a}{reset\+\_\+code}} ()
\begin{DoxyCompactList}\small\item\em Resets the PIN input buffer and index. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{group__esp2_gad45c6bc383467b9b8d638d841787c370}{publish\+Tap}} ()
\begin{DoxyCompactList}\small\item\em Publishes keypad tap feedback via MQTT. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{group__esp2_gafe461d27b9c48d5921c00d521181f12f}{loop}} ()
\begin{DoxyCompactList}\small\item\em Arduino main loop. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\doxymbox{\hyperlink{classWifiMqttClient}{Wifi\+Mqtt\+Client}} \doxymbox{\hyperlink{group__esp2_ga082cbde9dbf32731aabec6f0b8a7e5c0}{net}}
\begin{DoxyCompactList}\small\item\em Wi\+Fi + MQTT client wrapper. \end{DoxyCompactList}\item 
constexpr char \doxymbox{\hyperlink{group__esp2_gae4ee394ecd24781bba5d0aaaab8e964a}{WIFI\+\_\+\+SSID}} \+[$\,$]\+ = "{}Mathias2.\+4"{}
\begin{DoxyCompactList}\small\item\em Wi\+Fi SSID. \end{DoxyCompactList}\item 
constexpr char \doxymbox{\hyperlink{group__esp2_ga0495958e0c537c1c5100ee272495435c}{WIFI\+\_\+\+PASS}} \+[$\,$]\+ = "{}mrbombasticcallmefantastic"{}
\begin{DoxyCompactList}\small\item\em Wi\+Fi password. \end{DoxyCompactList}\item 
constexpr char \doxymbox{\hyperlink{group__esp2_ga41c34e432b12a511f9348547ddae11d4}{MQTT\+\_\+\+HOST}} \+[$\,$]\+ = "{}maqiatto.\+com"{}
\begin{DoxyCompactList}\small\item\em MQTT broker hostname. \end{DoxyCompactList}\item 
constexpr uint16\+\_\+t \doxymbox{\hyperlink{group__esp2_ga993a7e0c0377e10146438ebe707f31d0}{MQTT\+\_\+\+PORT}} = 1883
\begin{DoxyCompactList}\small\item\em MQTT broker port. \end{DoxyCompactList}\item 
constexpr char \doxymbox{\hyperlink{group__esp2_ga315cd313c3f6301b48d2f67e63bec2db}{MQTT\+\_\+\+USER}} \+[$\,$]\+ = "{}hectorfoss@gmail.\+com"{}
\begin{DoxyCompactList}\small\item\em MQTT username. \end{DoxyCompactList}\item 
constexpr char \doxymbox{\hyperlink{group__esp2_ga31dacdc924feb376b49448eb843d053c}{MQTT\+\_\+\+PASS}} \+[$\,$]\+ = "{}potter"{}
\begin{DoxyCompactList}\small\item\em MQTT password. \end{DoxyCompactList}\item 
constexpr char \doxymbox{\hyperlink{group__esp2_ga04ecc29c762e5b2844d3c24744813015}{DEVICE\+\_\+\+ID}} \+[$\,$]\+ = "{}door1"{}
\begin{DoxyCompactList}\small\item\em Unique device identifier used in MQTT topics. \end{DoxyCompactList}\item 
const byte \doxymbox{\hyperlink{group__esp2_ga829655a147df70dd4cc94eae40a2204e}{ROWS}} = 4
\begin{DoxyCompactList}\small\item\em Number of rows in the keypad matrix. \end{DoxyCompactList}\item 
const byte \doxymbox{\hyperlink{group__esp2_gaefd90f1160eaa105bc910d4d7c46b815}{COLS}} = 4
\begin{DoxyCompactList}\small\item\em Number of columns in the keypad matrix. \end{DoxyCompactList}\item 
char \doxymbox{\hyperlink{group__esp2_ga856e873a1d14012d57ddb813c4a1e40a}{keys}} \+[\doxymbox{\hyperlink{group__esp2_ga829655a147df70dd4cc94eae40a2204e}{ROWS}}]\+\+[\doxymbox{\hyperlink{group__esp2_gaefd90f1160eaa105bc910d4d7c46b815}{COLS}}]\+
\begin{DoxyCompactList}\small\item\em Logical keypad layout. \end{DoxyCompactList}\item 
byte \doxymbox{\hyperlink{group__esp2_ga6d6753e0ae098b31e2f84d4024e361cf}{row\+Pins}} \+[\doxymbox{\hyperlink{group__esp2_ga829655a147df70dd4cc94eae40a2204e}{ROWS}}]\+ = \{16, 5, 4, 0\}
\begin{DoxyCompactList}\small\item\em GPIO pins connected to keypad rows. \end{DoxyCompactList}\item 
byte \doxymbox{\hyperlink{group__esp2_gaa9fece7b062124080e4b2976f9a8b675}{col\+Pins}} \+[\doxymbox{\hyperlink{group__esp2_gaefd90f1160eaa105bc910d4d7c46b815}{COLS}}]\+ = \{2, 14, 12, 13\}
\begin{DoxyCompactList}\small\item\em GPIO pins connected to keypad columns. \end{DoxyCompactList}\item 
Keypad \doxymbox{\hyperlink{group__esp2_ga0e6c3cc7e8c762ab0ca1fa2296d7bbfe}{keypad}} = Keypad(make\+Keymap(\doxymbox{\hyperlink{group__esp2_ga856e873a1d14012d57ddb813c4a1e40a}{keys}}), \doxymbox{\hyperlink{group__esp2_ga6d6753e0ae098b31e2f84d4024e361cf}{row\+Pins}}, \doxymbox{\hyperlink{group__esp2_gaa9fece7b062124080e4b2976f9a8b675}{col\+Pins}}, \doxymbox{\hyperlink{group__esp2_ga829655a147df70dd4cc94eae40a2204e}{ROWS}}, \doxymbox{\hyperlink{group__esp2_gaefd90f1160eaa105bc910d4d7c46b815}{COLS}})
\begin{DoxyCompactList}\small\item\em Keypad instance handling scanning and debouncing. \end{DoxyCompactList}\item 
constexpr uint8\+\_\+t \doxymbox{\hyperlink{group__esp2_ga78e874f81f475d09f84f2bbc5d8f869d}{CODE\+\_\+\+LENGTH}} = 4
\begin{DoxyCompactList}\small\item\em Required PIN length. \end{DoxyCompactList}\item 
char \doxymbox{\hyperlink{group__esp2_gab42060a966bf72717ef9f3607d84bdd8}{input}} \+[\doxymbox{\hyperlink{group__esp2_ga78e874f81f475d09f84f2bbc5d8f869d}{CODE\+\_\+\+LENGTH}}+1]\+ = \{0\}
\begin{DoxyCompactList}\small\item\em Input buffer for PIN digits. \end{DoxyCompactList}\item 
uint8\+\_\+t \doxymbox{\hyperlink{group__esp2_gafe9f139ae3327939925efd3e3105d58a}{current\+Idx}} = 0
\begin{DoxyCompactList}\small\item\em Current index into the PIN buffer. \end{DoxyCompactList}\item 
bool \doxymbox{\hyperlink{group__esp2_ga45e5fd1e566874b92cd64516fb7447f3}{kp\+Enabled}} = false
\begin{DoxyCompactList}\small\item\em Indicates whether keypad input is currently enabled. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Keypad-\/based PIN entry controller with MQTT backend integration. 



Definition in file \doxymbox{\hyperlink{esp2__keypad_8ino_source}{esp2\+\_\+keypad.\+ino}}.

